title: définition d'un catalogue DCAT
description: |
  Essai de définition d'un catalogue des données exposées par https://features.geoapi.fr
  respectant le modèle de données DCAT v2.
  Stockage en 4 classes Agent, Catalog, Dataset et DataService
  Chacune doit définir une propriété 'identifier' utilisée comme clé dans les liens.
  Lorsqu'il exitse une aucun identfiant simple, il est proposé d'utiliser l'identfiant:
    #/(Agent|Catalog|Dataset|DataService)/{clé}
  La particularité de ce catalogue est que par définition, tous les services sont identifiés par un URI
  dans https://features.geoapi.fr
  
  Le schema permet de définir plusieurs catalogues.
  Par convention, on considère que le catalogue décrit par ce document est le premier listé dans Catalog,
  les autres sont des sous-catalogues référencés.
$schema:
  $id: http://features.geoapi.fr/schema/catalog
  $schema: http://json-schema.org/draft-06/schema#
  definitions:
    Agent:
      description: Description d'un agent Foaf (foaf:Agent)
      type: object
      additionalProperties: false
      required: [prefLabel, identifier]
      properties:
        a:
          description: précise la classe qui est une sous-classe de foaf:Agent
          type: string
        prefLabel:
          type: string
        identifier:
          type: string
        note:
          description: skos:note
          type: string
    Catalog:
      description: Description d'un catalogue DCAT (dcat:Catalog)
      type: object
      additionalProperties: false
      required: [title, identifier]
      properties:
        title:
          type: string
        identifier:
          type: string
        description:
          type: string
        homepage:
          description: page d'accueil du catalogue (foaf:homepage -> foaf:Document)
          type: string
        publisher:
          description: l'entité responsable de la publication (dct:publisher -> foaf:Agent)
          type: string
        themeTaxonomy:
          description: le thésaurus utilisé pour indexer les ressources (dcat:themeTaxonomy -> rdfs:Resource)
          type: string
        theme:
          description: concepts décrivant le catalogue et appartenant au thésaurus (dcat:theme -> skos:Concept)
          type: array
          items:
            type: object
            additionalProperties: false
            required: [identifier]
            properties:
              identifier:
                description: URI du concept
                type: string
              label:
                description: étiquette associée
                type: string
        spatial:
          description: concept de GeoNames (https://www.geonames.org/) indexant spatialement le catalogue
          type: object
          additionalProperties: false
          required: [identifier]
          properties:
            identifier:
              description: URI du concept
              type: string
            label:
              description: étiquette associée
              type: string
        dataset:
          description: ensemble des datasets contenus dans le catalogue chacun défini par son identifiant
          type: array
          items:
            type: string
        service:
          description: ensemble des services contenus dans le catalogue chacun défini par son identifiant
          type: array
          items:
            type: string
    Dataset:
      description: Description d'un jeu de données DCAT (dcat:Dataset)
      type: object
      additionalProperties: false
      required: [identifier]
      properties:
        title:
          description: titre en français
          type: string
        title@en:
          description: titre en anglais
          type: string
        identifier:
          type: string
        type:
          description: dct:type
          type: string
        description:
          type: string
        creator:
          description: L'entité responsable de la production du jeu de données (dct:creator -> foaf:Agent)
          type: string
        license:
          description: |
            document juridique définissant les conditions dans lesquelles le jeu de données est mis à disposition.
            (dct:license -> dct:LicenseDocument)
          type: string
        rights:
          description: |
            Une déclaration qui concerne tous les droits non traités avec dct:license ou dct:accessRights,
            tels que les déclarations de copyright.
            (dct:rights -> dct:RightsStatement)
          type: string
        hasPart:
          description: pour une série de données, liste des jeux correspondants (dct:hasPart)
          type: array
          items:
            type: string
        isPartOf:
          description: pour un jeu de données, la série de données correspondante (dct:isPartOf)
          type: string
        distribution:
          description: liste des distributions
          type: object
          additionalProperties: false
          patternProperties:
            ^[-a-zA-Z0-9_]+$:
              $ref: '#/definitions/Distribution'
    Distribution:
      description: Description d'une distribution d'un jeu de données DCAT (dcat:Distribution)
      oneOf:
        - description: Description comme DataService
          type: object
          additionalProperties: false
          required: [accessService]
          properties:
            accessService:
              description: identifiants de DataService
              type: array
              items:
                type: string
        - description: Description comme téléchargement
          type: object
          additionalProperties: false
          required: [downloadUrl]
          properties:
            downloadUrl:
              description: URL de téléchargement
              type: string
            mediaType:
              description: type MIME
              type: string
              enum:
                - application/x-shp+zip # ensemble de fichiers Shape zippés
                - application/x-shp+7z # ensemble de fichiers Shape 7zippés
    DataService:
      description: Description d'un service de données (dcat:DataService)
      type: object
      additionalProperties: false
      required: [title, identifier]
      properties:
        title:
          description: titre en français
          type: string
        title@en:
          description: titre en anglais
          type: string
        identifier:
          type: string
        description:
          type: string
        conformsTo:
          description:
            An established standard to which the described resource conforms. (dct:conformsTo)
          type: string
        endpointURL:
          description: |
            The root location or primary endpoint of the service (a Web-resolvable IRI). (dcat:endpointURL)
          type: string
        endpointDescription:
          description: |
            A description of the services available via the end-points, including their operations, parameters etc.
            (dcat:endpointDescription)
          type: string
        servesDataset:
          type: array
          items:
            type: string
  type: object
  additionalProperties: false
  required: [title, $schema, context, Catalog, Dataset, DataService]
  properties:
    title:
      description: titre du présent document
      type: string
    description:
      description: commentaire associé au document
      type: string
    $schema:
      description: schéma JSON du document défini soit par une référence, soit inline
      oneOf:
        - type: string
        - $ref: http://json-schema.org/schema#
    namespaces:
      description: dictionnaire des espaces de noms
      type: object
      additionalProperties: false
      patternProperties:
        ^[-a-zA-Z0-9_]+$:
          type: string
    context:
      description: dictionnaire définissant les propriétés par classe
      type: object
      additionalProperties: false
      patternProperties:
        ^[-a-zA-Z0-9_]+$:
          description: dictionnaire des propriétés de la classe
          type: object
          additionalProperties: false
          patternProperties:
            ^[-a-zA-Z0-9_]+$:
              description: URI de la propriété
              type: string
    integrityReferences:
      description: dictionnaire des contraintes d'intégrité référentielle du modèle de données par classe
      type: object
      additionalProperties: false
      patternProperties:
        ^[-a-zA-Z0-9_]+$:
          description: dictionnaire des contraintes d'intégrité référentielle par propriété
          type: object
          additionalProperties: false
          patternProperties:
            ^[-a-zA-Z0-9_.]+$:
              decription: référence à une propriété
              type: string
    Agent:
      description: |
        liste d'agents au sens de Foaf (foaf:Agent) (personnes, organisations, ...).  
        La clé dans le dictionnaire est utilisée en l'absence d'identifiant.
        Les références internes sont alors remplacées par des pointeurs.
      type: object
      additionalProperties: false
      patternProperties:
        ^[-a-zA-Z0-9_]+$:
          $ref: '#/definitions/Agent'
    Catalog:
      description: liste des catalogues (dcat:Catalog) chacun identifié par un identifier
      type: object
      additionalProperties: false
      patternProperties:
        ^[-a-zA-Z0-9_/.]+$:
          $ref: '#/definitions/Catalog'
    Dataset:
      description: liste des jeux de données (dcat:Dataset) chacun identifié par un identifier
      type: object
      additionalProperties: false
      patternProperties:
        ^[-a-zA-Z0-9_/.]+$:
          $ref: '#/definitions/Dataset'
    DataService:
      description: liste des services de données (dcat:DataService) chacun identifié par un identifier
      type: object
      additionalProperties: false
      patternProperties:
        ^[-a-zA-Z0-9_/.]+$:
          $ref: '#/definitions/DataService'
namespaces:
  dc: http://purl.org/dc/elements/1.1/
  dcat: http://www.w3.org/ns/dcat#
  dct: http://purl.org/dc/terms/
  dctype: http://purl.org/dc/dcmitype/
  foaf: http://xmlns.com/foaf/0.1/
  locn: http://www.w3.org/ns/locn#
  odrl: http://www.w3.org/ns/odrl/2/
  owl: http://www.w3.org/2002/07/owl#
  prov: http://www.w3.org/ns/prov#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  skos: http://www.w3.org/2004/02/skos/core#
  time: http://www.w3.org/2006/time#
  vcard: http://www.w3.org/2006/vcard/ns#
  xsd: http://www.w3.org/2001/XMLSchema#
context:
  Catalog:
    title: dct:title
integrityReferences:
  Catalog:
    dataset: Dataset.identifier
    service: DataService.identifier
  Dataset:
    distribution.accessService: DataService.identifier
  DataService:
    servesDataset: Dataset.identifier
Agent:
  MinEcologie:
    a: foaf:Organization
    prefLabel: Ministère chargé de l'écologie
    identifier: https://www.ecologie.gouv.fr/
  IGN-F:
    a: foaf:Organization
    prefLabel: Institut national de l’information géographique et forestière (IGN)
    identifier: https://ign.fr
  Shom:
    a: foaf:Organization
    prefLabel: Service Hydrographique et Océanographique de la Marine (Shom)
    identifier: https://www.shom.fr
  naturalEarth:
    a: foaf:Organization
    prefLabel: collaboration of volunteers making Natural Earth
    identifier: https://www.naturalearthdata.com/about/contributors/
    note: |
      Making Natural Earth is a collaboration involving many volunteer NACIS members and cartographers around the globe.
      Nathaniel Vaughn Kelso and Tom Patterson led the effort.
Catalog:
  features:
    title: Catalogue des jeux de données et services exposés par https://features.geoapi.fr
    identifier: https://features.geoapi.fr
    publisher: https://www.ecologie.gouv.fr/
    homepage: https://features.geoapi.fr/
    themeTaxonomy: http://publications.europa.eu/resource/dataset/eurovoc - EuroVoc
    theme:
      - {identifier: http://eurovoc.europa.eu/2470, label: politique de l'environnement}
      - {identifier: http://eurovoc.europa.eu/4074, label: prévention des risques pour l'environnement}
      - {identifier: http://eurovoc.europa.eu/2494, label: politique des transports}
      - {identifier: http://eurovoc.europa.eu/2498, label: politique énergétique}
      - {identifier: http://eurovoc.europa.eu/2496, label: politique du logement}
      - {identifier: http://eurovoc.europa.eu/4619, label: urbanisme}
      - {identifier: http://eurovoc.europa.eu/2475, label: politique de la construction}
    spatial: {identifier: https://www.geonames.org/3017382, label: France}
    dataset:
      - https://www.naturalearthdata.com/downloads/110m-cultural-vectors/
      - https://www.naturalearthdata.com/downloads/110m-physical-vectors/
      - https://www.naturalearthdata.com/downloads/10m-cultural-vectors/
      - https://www.naturalearthdata.com/downloads/10m-physical-vectors/
    service:
      - https://features.geoapi.fr/ne_110m_cultural
      - https://features.geoapi.fr/ne_10m_physical
      - https://features.geoapi.fr/ne_110m_cultural
      - https://features.geoapi.fr/ne_10m_physical
Dataset:
  ne_110m_cultural:
    title: Natural Earth, 1:110m scale, Cultural Vector Data Themes
    identifier: https://www.naturalearthdata.com/downloads/110m-cultural-vectors/
    description: |
      Natural Earth is a public domain map dataset available at 1:10m, 1:50m, and 1:110 million scales.
      Featuring tightly integrated vector and raster data, with Natural Earth you can make a variety of visually pleasing,
      well-crafted maps with cartography or GIS software.  
      This dataset corresponds to the small scale data, 1:110m. Suitable for schematic maps of the world on a postcard
      or as a small locator globe.
      This dataset includes Cultural Vector Data Themes.  
    creator: https://www.naturalearthdata.com/about/contributors/
    license: https://www.naturalearthdata.com/about/terms-of-use/
    rights: Données dans le domaine public
    distribution:
      download:
        downloadUrl: https://www.naturalearthdata.com/http//www.naturalearthdata.com/download/110m/cultural/110m_cultural.zip
        mediaType: application/x-shp+zip
      features:
        accessService:
          - https://features.geoapi.fr/ne_110m_cultural
  ne_110m_physical:
    title: Natural Earth, 1:110m scale, Physical Vector Data Themes
    identifier: https://www.naturalearthdata.com/downloads/110m-physical-vectors/
    distribution:
      features:
        accessService:
          - https://features.geoapi.fr/ne_110m_physical
  ne_10m_cultural:
    title: Natural Earth, 1:10m scale, Cultural Vector Data Themes
    identifier: https://www.naturalearthdata.com/downloads/10m-cultural-vectors/
    distribution:
      features:
        accessService:
          - https://features.geoapi.fr/ne_10m_cultural
  ne_10m_physical:
    title@en: Natural Earth, 1:10m scale, Physical Vector Data Themes
    identifier: https://www.naturalearthdata.com/downloads/10m-physical-vectors/
    distribution:
      features:
        accessService:
          - https://features.geoapi.fr/ne_10m_physical
  ignf-route500:
    type: http://inspire.ec.europa.eu/metadata-codelist/ResourceType/series
    title: ROUTE 500 (IGN)
    identifier: https://dcat.georef.eu/root/Dataset/ignf-route500
    hasPart:
      - '#/Dataset/ignf-route500-2020'
      - '#/Dataset/ignf-route500-2019'
  ignf-route500_2020:
    title: ROUTE 500 2020 (IGN)
    identifier: '#/Dataset/ignf-route500_2020'
    isPartOf: '#/Dataset/ignf-route500'
    distribution:
      download:
        downloadUrl: ftp://ROUTE_500_ext:UqueemievaiDah3k@ftp3.ign.fr/ROUTE500_3-0__SHP_LAMB93_FXX_2020-08-04.7z.001
        mediaType: application/x-shp+7z
      features:
        accessService:
          - https://features.geoapi.fr/ignf-route500_2020
  ignf-route500_2019:
    title: ROUTE 500 2019 (IGN)
    identifier: '#/Dataset/ignf-route500_2019'
    isPartOf: '#/Dataset/ignf-route500'
    distribution:
      download:
        downloadUrl: ftp://ROUTE_500_ext:UqueemievaiDah3k@ftp3.ign.fr/ROUTE500_3-0__SHP_LAMB93_FXX_2019-10-30.7z.001
        mediaType: application/x-shp+7z
      features:
        accessService:
          - https://features.geoapi.fr/ignf-route500_2019
  ignf-bdcarto:
    title: BD CARTO (IGN)
    identifier: '#/Dataset/ignf-bdcarto'
    distribution:
      ignGpWfs:
        accessService:
          - https://wxs.ign.fr/{clé}/geoportail/wfs
      features:
        accessService:
          - https://features.geoapi.fr/ignf-bdcarto


DataService:
  ne_110m_cultural:
    title: service OGC API Features pour Natural Earth, échelle 1:110m, thèmes culturels vecteur
    title@en: OGC API Features service of Natural Earth, 1:110m scale, Cultural Vector Data Themes
    identifier: https://features.geoapi.fr/ne_110m_cultural
    endpointURL: https://features.geoapi.fr/ne_110m_cultural
    endpointDescription: https://features.geoapi.fr/ne_110m_cultural/api
    servesDataset:
      - https://www.naturalearthdata.com/downloads/110m-cultural-vectors/
  ne_110m_physical:
    title: service OGC API Features pour Natural Earth, échelle 1:110m, thèmes physiques vecteur
    title@en: OGC API Features service of Natural Earth, 1:110m scale, Physical Vector Data Themes
    identifier: https://features.geoapi.fr/ne_110m_physical
    endpointURL: https://features.geoapi.fr/ne_110m_physical
    endpointDescription: https://features.geoapi.fr/ne_110m_physical/api
    servesDataset:
      - https://www.naturalearthdata.com/downloads/110m-physical-vectors/
  ne_10m_cultural:
    title: service OGC API Features pour Natural Earth, échelle 1:10m, thèmes culturels vecteur
    title@en: OGC API Features service of Natural Earth, 1:10m scale, Cultural Vector Data Themes
    identifier: https://features.geoapi.fr/ne_10m_cultural
    endpointURL: https://features.geoapi.fr/ne_10m_cultural
    endpointDescription: https://features.geoapi.fr/ne_10m_cultural/api
    servesDataset:
      - https://www.naturalearthdata.com/downloads/10m-cultural-vectors/
  ne_10m_physical:
    title: service OGC API Features pour Natural Earth, échelle 1:10m, thèmes physiques vecteur
    title@en: OGC API Features service of Natural Earth, 1:10m scale, Physical Vector Data Themes
    identifier: https://features.geoapi.fr/ne_10m_physical
    endpointURL: https://features.geoapi.fr/ne_10m_physical
    endpointDescription: https://features.geoapi.fr/ne_10m_physical/api
    servesDataset:
      - https://www.naturalearthdata.com/downloads/10m-physical-vectors/
  ignf-route500_2020:
    title: service OGC API Features de ROUTE 500 2020
    identifier: https://features.geoapi.fr/ignf-route500_2020
    endpointURL: https://features.geoapi.fr/ignf-route500_2020
    endpointDescription: https://features.geoapi.fr/ignf-route500_2020/api
    servesDataset:
      - '#/Dataset/ignf-route500_2020'
  ignf-route500_2019:
    title: service OGC API Features de ROUTE 500 2019
    identifier: https://features.geoapi.fr/ignf-route500_2019
    conformsTo: http://www.opengis.net/spec/ogcapi-features-1/1.0/req/core
    endpointURL: https://features.geoapi.fr/ignf-route500_2019
    endpointDescription: https://features.geoapi.fr/ignf-route500_2019/api
    servesDataset:
      - '#/Dataset/ignf-route500_2019'
  ignf-gp-wfs:
    title: service WFS du Géoportail IGN
    identifier: https://wxs.ign.fr/{clé}/geoportail/wfs
    conformsTo: http://www.opengis.net/def/serviceType/ogc/wfs/2.0.0
    endpointURL: https://wxs.ign.fr/3j980d2491vfvr7pigjqdwqw/geoportail/wfs
    endpointDescription: https://wxs.ign.fr/3j980d2491vfvr7pigjqdwqw/geoportail/wfs?referer=gexplor.fr&service=WFS&request=GetCapabilities
    servesDataset:
      - '#/Dataset/ignf-bdcarto'
  ignf-bdcarto:
    title: service OGC API Features de BDCARTO
    identifier: https://features.geoapi.fr/ignf-bdcarto
    conformsTo: http://www.opengis.net/spec/ogcapi-features-1/1.0/req/core
    endpointURL: https://features.geoapi.fr/ignf-bdcarto
    endpointDescription: https://features.geoapi.fr/ignf-bdcarto/api
    servesDataset:
      - '#/Dataset/ignf-bdcarto'


    
    
    
    